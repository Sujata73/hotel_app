{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Payments</title>
    <!-- CSS only -->
<!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">-->
<!--    &lt;!&ndash; JavaScript Bundle with Popper &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>-->
</head>
<body>
<form  action="" method="POST" >
    {% csrf_token %}
    {{form.as_p}}
<!--  <div class="form-row align-items-center">-->
<!--      <div class="col-auto">-->
<!--      <label class="sr-only" for="inlineFormInput">Room Id</label>-->
<!--      <input type="text" name = "RoomId" class="form-control mb-2" id="inlineFormInput" placeholder="Room Id">-->
<!--    </div>-->
<!--    <br>-->
<!--    <div class="col-auto">-->
<!--      <label class="sr-only" for="inlineFormInput">Room Number</label>-->
<!--      <input type="text" name = "RoomNumber" class="form-control mb-2" id="inlineFormInput" placeholder="Room No">-->
<!--    </div>-->
<!--    <br>-->
<!--    <div class="col-auto">-->
<!--      <label class="sr-only" for="inlineFormInputGroup">Room Type</label>-->
<!--   <input type="text" name = "RoomType" class="form-control mb-2" id="inlineFormInput" placeholder="Room Type">-->
<!--        </div>-->
<!--        <br>-->
<!--        <div class="col-auto">-->
<!--      <label class="sr-only" for="inlineFormInput">Room Price</label>-->
<!--      <input type="text" name ="RoomPrice" class="form-control mb-2" id="inlineFormInput" placeholder="Room Price">-->
<!--    </div>-->
<!--      <br>-->
<!--         <div class="col-auto">-->
<!--      <label class="sr-only" for="inlineFormInput">Room Capacity</label>-->
<!--      <input type="text" name ="RoomCapacity" class="form-control mb-2" id="inlineFormInput" placeholder="Room Capacity">-->
<!--    </div>-->

<!--      </div>-->
<!--    <br>-->



<!--&lt;!&ndash;    <div class="col-auto">&ndash;&gt;-->
<!--&lt;!&ndash;      <div class="form-check mb-2">&ndash;&gt;-->
<!--&lt;!&ndash;        <input class="form-check-input" type="checkbox" id="autoSizingCheck">&ndash;&gt;-->
<!--&lt;!&ndash;        <label class="form-check-label" for="autoSizingCheck">&ndash;&gt;-->
<!--&lt;!&ndash;          Remember me&ndash;&gt;-->
<!--&lt;!&ndash;        </label>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
    <input type = "submit" value ="Generate Invoice" >

</form>

<script>
    $(document).ready(function($){
        $('#id_bookingid').on("change",function(){
            id = this.value
            $.ajax({
                type: 'get',
                url:'http://localhost:8000/api/'+id,
                success: function(response){
                    console.log(response.total_price)
                    $('#id_paymentamount').val(response.total_price)
                    }
                })
            })
        })
</script>
</body>
</html>